{% extends 'library/publisher/base.html' %}

  {%  block content %}

<div class="container col-md-9 ml-20 bg-white">
  <div class="col-12"><h1>{{ post.title }}</h1></a></div>
<div class="col-12"><p>{{ post.dec|safe}}  
    By <i>{{ post.author }}</i> <br> <em> on {{ post.published_date }}</em>
    </p>
    <div class="col-md-4">
    <div class="card mb-4 box-shadow">
          {% if post.file %}
            {% if post.extension == '.jpg' or post.extension == '.jpeg' or post.extension == '.png' or post.extension == '.gif' or post.extension == '.webp' %}
              <img src="{{ post.file.url }}" alt="{{ post.title}}"  height="370px">

            {% elif post.extension == '.mp4' or post.extension == '.mpeg' or post.extension == '.ogg'  %}
            <video height="370" controls>
            {% if post.extension == '.mp4' %}
              <source src="{{ post.file.url }}" type="video/mp4">
              {% elif post.extension == '.ogg' %}
              <source src="{{ post.file.url }}" type="video/ogg">
              {% else %}
            Your browser does not support the video tag.
            {% endif %}
            </video>
             

            {% elif post.extension == '.mp3' or post.extension == '.aac' or post.extension == '.mid' or post.extension == '.midi' or post.extension == '.oga' or post.extension == '.opus' or post.extension == '.wav' or  post.extension == '.weba' %}
            <audio controls>
              {% if post.extension == '.mp3' %}
                <source src="{{ post.file.url }}" type="audio/mpeg">
                {% elif post.extension == '.ogg' %}
                <source src="{{ post.file.url }}" type="audio/ogg">
                {% else %}
              Your browser does not support the video tag.
              {% endif %}
            </audio>

            {% elif post.extension == '.zip' or post.extension == '.7z' or post.extension == '.doc' or post.extension == '.pdf' or post.extension == '.txt' or post.extension == '.xls' or post.extension == '.csv' %}
              <p>You can't preview this file. Kindly download to view.</p>  
            <a href="{{ post.file.url }}" class="btn btn-outline-primary" download>Download</a>
            {% else %}
                <span>File type not recognized</span>
            {% endif %}
          {% else %}
            <span class="text-muted">No content</span>
          {% endif %}
        
    </div>
    </div>
</div>
    
</div>
{%  endblock content %}